seed: 42

data:
  dataset: imagenet  # Will default to 64x64 if not specified, but we specify below
  root: data/imagenet  # Expects train/ and val/ folders here
  batch_size: 32  # Reduced batch size for larger images
  num_workers: 8
  image_size: 64

diffusion:
  T: 1000
  schedule: cosine
  cosine_s: 0.008
  num_suffix_steps: 10

model:
  in_channels: 3
  base_channels: 128
  channel_mults: [1, 2, 3, 4]  # 128 -> 256 -> 384 -> 512 channels
  num_res_blocks: 2
  time_emb_dim: 512
  context_dim: 512

encoder:
  hidden_dim: 512
  num_heads: 8
  num_layers: 4
  pooling: mean

training:
  epochs: 100
  lr: 1.0e-4  # Slightly lower LR for larger model/dataset
  weight_decay: 0.0
  log_every: 100
  sample_every_steps: 2000
  save_every_steps: 10000
  out_dir: experiments/dart_imagenet64
  ema_decay: 0.9999
  loss_type: dart
  weighting: snr_sum
  use_cfg: true
  context_dropout: 0.1

sampling:
  cfg_scale: 1.5

